<template>
  <div>
    <router-link to="/">Logo</router-link>โ <router-link to="/reserve">์์ฝํ๊ธฐ</router-link>โ
    <router-link to="/confirm">์์ฝํ์ธ</router-link>โ <router-link to="/review">๋ฆฌ๋ทฐ</router-link>โ
    <!-- ๋ก๊ทธ์ธ ์ํ์ ๋ฐ๋ผ ๋ฉ๋ด ๋ณ๊ฒฝ -->
    <span v-if="loggedInUser">{{ loggedInUser }}๋ <button @click="logout">๋ก๊ทธ์์</button></span>
    <!-- ๊ธฐ๋ณธ ๋ฉ๋ด -->
    <span v-else>
      <router-link to="/login">๋ก๊ทธ์ธ</router-link>โ
      <router-link to="/signup">ํ์๊ฐ์</router-link>
    </span>
  </div>
</template>

<script setup>
import { onMounted, ref } from "vue";

const loggedInUser = ref(null);
// ๋ก๊ทธ์ธ ์ํ ์ฒดํฌ
const checkLogin = () => {
  const user = localStorage.getItem("loggedInUser");
  loggedInUser.value = user ? user : null;
};
// ํ์ด์ง๊ฐ ์ด๋ฆด ๋ ํ ๋ฒ ์คํ
onMounted(() => {
  checkLogin();
});
// ๋ก๊ทธ์์
const logout = () => {
  localStorage.removeItem("loggedInUser");
  alert("๋ก๊ทธ์์ ๋์ด์๐ข");
};
</script>

<style scoped></style>
